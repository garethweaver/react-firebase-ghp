(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{127:function(e,t,n){},128:function(e,t,n){},129:function(e,t,n){},130:function(e,t,n){},131:function(e,t,n){},132:function(e,t,n){},143:function(e,t,n){},144:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),r=n(65),s=n.n(r),c=n(3),i=n(4),u=n(6),l=n(5),d=n(7),h=n(66),p=o.a.createContext(null),m=function(e){return function(t){return o.a.createElement(p.Consumer,null,function(n){return o.a.createElement(e,Object.assign({},t,{firebase:n}))})}},b=p,f=n(25),v=n.n(f),O=(n(60),{apiKey:"AIzaSyD9BAB5NaXkdbMLeLQ1Sx9G23wyIs7D8Ns",authDomain:"beta-project-e779d.firebaseapp.com",databaseURL:"https://beta-project-e779d.firebaseio.com",projectId:"beta-project-e779d",storageBucket:"beta-project-e779d.appspot.com",messagingSenderId:"684952549325"}),j=function e(){var t=this;Object(c.a)(this,e),this.signOut=function(){return t.auth.signOut()},this.todos=function(){return t.db.ref("todos")},this.todo=function(e){return t.db.ref("todos/".concat(e))},v.a.initializeApp(O),this.auth=v.a.auth(),this.db=v.a.database()},E=m(function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleClick",value:function(){this.props.firebase.signOut()}},{key:"render",value:function(){var e=this;return o.a.createElement("button",{className:"btn btn-icon",onClick:function(){return e.handleClick()}},o.a.createElement("i",{className:"fas fa-times"}))}}]),t}(a.Component)),y=(n(127),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("header",{className:"Header"},"Logged in",o.a.createElement(E,null))}}]),t}(a.Component)),k=n(31),g=(n(128),m(function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"toggleTodo",value:function(e){var t=Object(k.a)({},this.props.todo,{done:!this.props.todo.done});delete t.id,this.props.firebase.todo(this.props.todo.id).set(t)}},{key:"deleteTodo",value:function(e){e.preventDefault(),this.props.firebase.todo(this.props.todo.id).remove()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"Todo"},o.a.createElement("label",{className:this.props.todo.done?"done":null},o.a.createElement("input",{type:"checkbox",checked:this.props.todo.done,onChange:function(t){return e.toggleTodo(t)}}),o.a.createElement("span",null,this.props.todo.text)),o.a.createElement("button",{onClick:function(t){return e.deleteTodo(t)},className:"btn btn-icon"},o.a.createElement("i",{className:"fas fa-times"})))}}]),t}(a.Component))),C=(n(129),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"Loader"},o.a.createElement("div",{className:"Loader-inner"},o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null)))}}]),t}(a.Component)),N=(n(130),m(function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={todos:null},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.firebase.todos().on("value",function(t){var n=[];t.val()&&(n=Object.keys(t.val()).map(function(e){return Object(k.a)({id:e},t.val()[e])})),e.setState({todos:n})})}},{key:"getTodos",value:function(){return this.state.todos.map(function(e){return o.a.createElement("li",{key:e.id},o.a.createElement(g,{todo:e}))})}},{key:"render",value:function(){return o.a.createElement("ul",{className:"TodoList"},this.state.todos?this.getTodos():o.a.createElement(C,null))}}]),t}(a.Component))),S=(n(131),m(function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={value:""},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"addTodo",value:function(e){e.preventDefault(),""!==this.state.value&&(this.props.firebase.todos().push({text:this.state.value,done:!1,user:this.props.firebase.auth.currentUser.email}),this.setState({value:""}))}},{key:"onChange",value:function(e){this.setState({value:e.target.value})}},{key:"render",value:function(){var e=this;return o.a.createElement("form",{className:"AddTodo",onSubmit:function(t){return e.addTodo(t)}},o.a.createElement("input",{type:"text",placeholder:"Add a todo...",value:this.state.value,onChange:function(t){return e.onChange(t)}}),o.a.createElement("button",{type:"submit",className:"btn btn-icon"},o.a.createElement("i",{className:"fas fa-plus"})))}}]),t}(a.Component))),T=(n(132),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"Main"},o.a.createElement(y,null),o.a.createElement(N,null),o.a.createElement(S,null))}}]),t}(a.Component)),w=n(67),A=n(47),I=n.n(A),D=m(function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(w.StyledFirebaseAuth,{uiConfig:(e=I.a,{signInFlow:"popup",signInOptions:[e.auth.GoogleAuthProvider.PROVIDER_ID]}),firebaseAuth:I.a.auth()});var e}}]),t}(a.Component)),L=m(function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={authUser:null},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.firebase.auth.onAuthStateChanged(function(t){t?e.setState({authUser:t}):e.setState({authUser:null})})}},{key:"render",value:function(){return o.a.createElement("div",{className:"App page-wrap"},o.a.createElement(h.Helmet,null,o.a.createElement("title",null,"Kortical Todos"),o.a.createElement("link",{href:"https://fonts.googleapis.com/css?family=Open+Sans:400",rel:"stylesheet"}),o.a.createElement("link",{rel:"stylesheet",href:"https://use.fontawesome.com/releases/v5.7.2/css/all.css",integrity:"sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr",crossorigin:"anonymous"})),this.state.authUser?o.a.createElement(T,null):o.a.createElement(D,null))}}]),t}(a.Component));n(143);s.a.render(o.a.createElement(b.Provider,{value:new j},o.a.createElement(L,null)),document.getElementById("root"))},68:function(e,t,n){e.exports=n(144)}},[[68,1,2]]]);
//# sourceMappingURL=main.95e9c790.chunk.js.map